# MCP RULES — Decision Lab

## 결정 직전 불안 구조 해석 가설 검증용

---

## 0. 프로젝트 목적 (Mission)

- 본 프로젝트의 목적은 서비스 완성이 아니다.
- 목적은 오직 하나다.

> "결정 직전 불안 상황에서 구조 설명이라는 개입이 재사용 행동을 만들어내는가"를 검증한다.

- UX, 디자인, 감성 완성도는 평가 대상이 아니다.
- 가설이 틀렸다는 결론도 성공적인 결과로 간주한다.

---

## 1. 하지 말아야 할 것 (Non-Goals · 절대 금지)

다음 항목은 어떠한 이유로도 구현하지 않는다.

### 기능 관련
- 회원가입 / 로그인
- 개인화 추천
- 아카이브, 히스토리, 검색
- 알림, 리마인드, 푸시
- 결제, 구독, 마케팅 기능
- 디자인 고도화, 애니메이션

### 역할 관련 (가장 중요)
- 조언 제공
- 선택 추천
- "나라면", "더 나은 선택"
- 심리 상담, 치료, 진단 흉내

> ⚠️ 위 요소가 하나라도 들어가면 가설 검증 실패

---

## 2. MVP 범위 (Must-Haves)

### 페이지 (정확히 3개)

1. `/`
   - 질문: "지금 결정을 앞두고 있나요?"
   - 버튼: 예 / 아니오

2. `/write`
   - 자유 서술 입력
   - 최소 3문장 또는 200자 이상
   - 입력 필드 추가 금지

3. `/result`
   - 결과 출력 (아래 3개만 허용)

### API
- AI 분석 API 1개만 허용

---

## 3. 결과 화면 구성 규칙 (엄격)

결과 화면에는 아래 3개 섹션만 존재해야 한다.

1. **불안 구조 요약**
   - 2~3문장
   - 감정 위로 ❌
   - 구조적 설명 ⭕

2. **불안 드라이버 분해**
   - 3~5개
   - 명명된 개념 형태

3. **메타 질문 1개**
   - 성찰 유도
   - 행동 지시 ❌
   - 조언 ❌

### 추가로 허용되는 질문 (2개뿐)
- "이 설명이 도움이 되었나요?" (Y/N)
- "다음 결정에서도 다시 쓰고 싶나요?" (Y/N)

---

## 4. AI 출력 규칙 (JSON 계약)

AI는 반드시 JSON만 반환해야 하며, 아래 스키마를 따른다.

```json
{
  "summary": "불안을 구조적으로 설명하는 2~3문장",
  "drivers": [
    {
      "name": "불안 요인 명칭",
      "evidence": "사용자 텍스트 기반 근거 요약"
    }
  ],
  "meta_question": "조언이 아닌 성찰 질문 1개",
  "disallowed_check": {
    "contains_advice": false,
    "contains_recommendation": false,
    "contains_rankings": false
  }
}
```

- drivers는 3~5개
- 행동 제안, 선택 비교, 추천 표현 금지
- JSON 검증 실패 시 재시도 1회 후 안전 메시지 출력

---

## 5. AI 역할 규정 (중요)

### AI가 수행하는 역할
- 설명자
- 구조 해석자
- 사고 정리 도구

### AI가 절대 수행하지 않는 역할
- 상담사
- 조언자
- 코치
- 의사결정 대리인

### 사용자가 "그래서 뭘 해야 하나요?"라고 묻는 경우

> "이 도구는 결정을 대신하지 않습니다. 대신 불안을 만드는 사고 구조를 정리합니다."

---

## 6. 데이터 저장 원칙

### 기본 원칙
- Supabase 사용하지 않는다
- 사용자 식별은 로컬스토리지 기반 pseudo ID만 사용
- 장기 데이터 축적을 전제로 하지 않는다

### 저장 대상

#### 클라이언트 (로컬스토리지)
- pseudo_user_id
- 사용 횟수
- 마지막 사용 시점

#### 서버 (Vercel API 로그)
- session_id
- 진입 여부 (결정 Yes/No)
- 입력 텍스트 길이
- 이벤트 로그 (landing_view, write_view, submit, result_view)
- AI 결과 JSON
- 도움 여부 (Y/N)
- 재사용 의향 (Y/N)

---

## 7. 기술 선택 기준

- 프론트엔드: Next.js
- 배포: Vercel
- AI: OpenAI API
- 저장: 로컬스토리지 + 서버 이벤트 로그
- 인증/계정: ❌

> Vercel은 실험 무대, 로컬스토리지는 재사용 판별 도구

---

## 8. 성공 / 실패 판단 기준

### 성공 신호
- 입력 완료율 ≥ 60%
- "다시 쓰고 싶다" ≥ 30%
- 동일 사용자 반복 사용 발생
- 사용자가 AI의 개념을 따라 쓰기 시작함

### 실패 신호
- 만족 반응은 있으나 재사용 없음
- "답답하다 / 결론이 없다" 불만 다수
- 조언 요구가 반복됨

> 실패 시 즉시 중단. 데이터 보존 미련 금지

---

## 9. 불확실할 때의 판단 원칙

기능 추가, 구조 변경, UI 개선이 떠오를 때 항상 이 질문으로 판단한다.

> "이 변경이 가설 #1을 더 빨리, 더 명확하게 검증하는가?"

- Yes → 허용
- No → 금지

---

## 10. 한 문장 요약 (이 MCP의 본질)

> 이 프로젝트는 불안을 해결하려는 서비스가 아니라, '어디에 시장이 있는지'를 알아내기 위한 실험 도구다.

